{% extends "layout.html" %}

{% block title %}{{ page.title }}{% endblock %}
{% block feed %}
  <link rel=alternate type="application/atom+xml" title="All articles"
        href="{{ page.index.atom.href }}">
{% endblock %}

{% block content %}
{% if page.posts | length == 0 %}

  <p>Nothing here.</p>

{% else %}

  {% for post in page.posts %}
  <article>
    <header>
      <h1>{{ post.title }}</h1>
      {% if post.subtitle is not none %}<p class="subtitle">{{ post.subtitle | escape }}</p>{% endif %}
      <p>{% if not post.enabled %}[DRAFT] {% endif %}
        <time>{{ post.timestamp.strftime('%b %e %Y') }}</time></p>
      <p class="taglist">
        {% for tag in post.tags %}
          <a href="/tags/{{ tag | urlencode | escape }}/" class="label label-default">{{tag | escape}}</a>
        {% endfor %}
      </p>
    </header>
    {{ post.summary() | safe }}
    <a href="{{ post.href | escape }}">Read Moreâ€¦</a>
  </article>
  {% endfor %}

  <p>Page {{ page.page_number }} of {{ page.num_pages }}

    |

    <a rel="prev" title="Previous page"
       {% if page.prev is not none %}
       href="{{ page.prev.href | escape }}"
       {% endif %}
       >
      Previous page
    </a>

    |

    <a re="next" title="Next page"
       {% if page.next is not none %}
       href="{{ page.next.href | escape }}"
       {% endif %}
       >
      Next page
    </a>

    |

    <a rel=alternate
       type="application/atom+xml"
       href="{{ page.index.atom.href | escape }}">
       Feed</a>
  </p>

{% endif %}
{% endblock %}
